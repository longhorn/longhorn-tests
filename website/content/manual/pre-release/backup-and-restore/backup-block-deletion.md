---
title: "[#1431](https://github.com/longhorn/longhorn/issues/1431) backup block deletion test"
---
- create vol `blk`and mount to a node on `/mnt/blk`
- take backup(1)
- `dd if=/dev/urandom of=/mnt/blk/data2 bs=2097152 count=10 status=progress`
- take backup(2)
- `dd if=/dev/urandom of=/mnt/blk/data3 bs=2097152 count=10 status=progress`
- take backup(3)
- diff backup(2) backup(3) (run through json beautifier for easier comparison)
- delete backup(2)
- verify that the blocks solely used by backup(2) are deleted
- verify that the shared blocks between backup(2) and backup(3) are retained
- delete backup(3)
- wait
- delete backup(1)
- wait
- verify no more blocks
- verify volume.cfg BlockCount == 0
